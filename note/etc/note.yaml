grpc:
  mode: dev
  name: note-rpc
  listenon: 0.0.0.0:8889
  log:
    level: debug
  etcd:
    hosts: ${ENV_ETCD_HOSTS}
    key: whimer.note.rpc
  telemetry:
    name: note
    endpoint: ${ENV_JAEGER_ENDPOINT}
    sampler: 1.0
    batcher: jaeger

log:
  serviceName: note
  stat: false

mysql:
  user: ${ENV_DB_USER}
  pass: ${ENV_DB_PASS}
  addr: ${ENV_DB_ADDR}
  db_name: ${ENV_DB_NAME}

redis:
  host: ${ENV_REDIS_HOST}

oss:
  endpoint: ${ENV_OSS_ENDPOINT}
  location: ${ENV_OSS_LOCATION}
  bucket: nota
  prefix: assets
  display_endpoint: http://s1-file.whimer.com
  upload_endpoint: http://s1-upload.whimer.com

upload_auth_sign:
  jwt_id: whm_ulas
  jwt_issuer: whimer
  jwt_subject: sts
  jwt_duration: 30m
  ak: ${ENV_OSS_AK}
  sk: ${ENV_OSS_SK}

img_proxy_auth:
  key: ${IMGPROXY_KEY}
  salt: ${IMGPROXY_SALT}

# 外部依赖
external:
  grpc:
    passport:
      hosts: ${ENV_ETCD_HOSTS}
      key: whimer.passport.rpc
    counter:
      hosts: ${ENV_ETCD_HOSTS}
      key: whimer.counter.rpc
    comment:
      hosts: ${ENV_ETCD_HOSTS}
      key: whimer.comment.rpc
    search:
      hosts: ${ENV_ETCD_HOSTS}
      key: whimer.search.rpc

salt: ${ENV_NOTE_SALT}

obfuscate:
  note:
    salt: ${ENV_OBFUSCATE_NOTE_SALT}
  tag:
    salt: ${ENV_OBFUSCATE_TAG_SALT}
    min_length: 24
    alphabet: 0123456789abcdef
