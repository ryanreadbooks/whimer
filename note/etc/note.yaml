grpc:
  mode: dev
  name: note-rpc
  listenon: 0.0.0.0:8889
  log:
    level: debug
  etcd:
    hosts: ${ENV_ETCD_HOSTS}
    key: whimer.note.rpc
  telemetry:
    name: note
    endpoint: ${ENV_JAEGER_ENDPOINT}
    sampler: 1.0
    batcher: jaeger

http:
  mode: dev
  name: note-api
  host: 0.0.0.0
  port: 8890
  log:
    level: debug
  telemetry:
    name: note
    endpoint: ${ENV_JAEGER_ENDPOINT}
    sampler: 1.0
    batcher: jaeger

log:
  serviceName: note
  stat: false

mysql:
  user: ${ENV_DB_USER}
  pass: ${ENV_DB_PASS}
  addr: ${ENV_DB_ADDR}
  db_name: ${ENV_DB_NAME}

redis:
  host: ${ENV_REDIS_HOST}

# 外部依赖
external:
  grpc:
    passport:
      hosts: ${ENV_ETCD_HOSTS}
      key: whimer.passport.rpc
    counter:
      hosts: ${ENV_ETCD_HOSTS}
      key: whimer.counter.rpc
    comment:
      hosts: ${ENV_ETCD_HOSTS}
      key: whimer.comment.rpc
    search:
      hosts: ${ENV_ETCD_HOSTS}
      key: whimer.search.rpc
    conductor:
      hosts: ${ENV_ETCD_HOSTS}
      key: whimer.conductor.rpc

salt: ${ENV_NOTE_SALT}

obfuscate:
  note:
    salt: ${ENV_OBFUSCATE_NOTE_SALT}
  tag:
    salt: ${ENV_OBFUSCATE_TAG_SALT}
    min_length: 24
    alphabet: 0123456789abcdef

dev_callbacks:
  note_process_callback: http://localhost:8890/inner/api/v1/dev/note_process/callback