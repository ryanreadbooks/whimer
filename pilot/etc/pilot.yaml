http:
  mode: dev
  name: pilot
  host: 0.0.0.0
  port: 8081
  log:
    level: debug
  telemetry:
    name: pilot
    endpoint: ${ENV_JAEGER_ENDPOINT}
    sampler: 1.0
    batcher: jaeger

redis:
  host: ${ENV_REDIS_HOST}

log:
  serviceName: pilot
  stat: false

mysql:
  user: ${ENV_DB_USER}
  pass: ${ENV_DB_PASS}
  addr: ${ENV_DB_ADDR}
  db_name: ${ENV_DB_NAME}

backend:
  note:
    hosts: ${ENV_ETCD_HOSTS}
    key: whimer.note.rpc
  passport:
    hosts: ${ENV_ETCD_HOSTS}
    key: whimer.passport.rpc
  comment:
    hosts: ${ENV_ETCD_HOSTS}
    key: whimer.comment.rpc
  relation:
    hosts: ${ENV_ETCD_HOSTS}
    key: whimer.relation.rpc
  msger:
    hosts: ${ENV_ETCD_HOSTS}
    key: whimer.msger.rpc
  search:
    hosts: ${ENV_ETCD_HOSTS}
    key: whimer.search.rpc
  wslink:
    hosts: ${ENV_ETCD_HOSTS}
    key: whimer.wslink.rpc

obfuscate:
  note:
    salt: ${ENV_OBFUSCATE_NOTE_SALT}
  tag:
    salt: ${ENV_OBFUSCATE_TAG_SALT}
    min_length: 24
    alphabet: 0123456789abcdef

job_config:
  note_event_job:
    interval: 2s
    num_of_list: 6

kafka:
  brokers: ${ENV_KFK_BROKERS}
  username: ${ENV_KFK_USERNAME}
  password: ${ENV_KFK_PASSWORD}

upload_auth_sign:
  jwt_id: whm_ulas
  jwt_issuer: whimer
  jwt_subject: sts
  jwt_duration: 30m
  ak: ${ENV_OSS_AK}
  sk: ${ENV_OSS_SK}

oss:
  use_secure: false
  endpoint: ${ENV_OSS_ENDPOINT}
  location: ${ENV_OSS_LOCATION}
  user: ${ENV_OSS_USER}
  password: ${ENV_OSS_PASS}
  credential_duration_sec: 1800
  display_endpoint: http://s1-file.whimer.com
  upload_endpoint: http://s1-upload.whimer.com

upload_resource_define:
  - name: note_image
    meta:
      bucket: nota
      prefix: assets
      prepend_bucket: true
  - name: note_video
    meta:
      bucket: videos
      prefix: note
      prepend_bucket: true
      prepend_prefix: true
  - name: comment_image
    meta:
      bucket: pics
      prefix: cmt_inline
      prepend_bucket: true
      prepend_prefix: true
      stringer: random_v7

img_proxy_auth:
  key: ${IMGPROXY_KEY}
  salt: ${IMGPROXY_SALT}
