grpc:
  mode: dev
  name: comment-rpc
  listenon: 0.0.0.0:6667
  log:
    level: debug
  etcd:
    hosts: ${ENV_ETCD_HOSTS}
    key: whimer.comment.rpc
  telemetry:
    Name: comment
    Endpoint: ${ENV_JAEGER_ENDPOINT}
    Sampler: 1.0
    Batcher: jaeger

mysql:
  user: ${ENV_DB_USER}
  pass: ${ENV_DB_PASS}
  addr: ${ENV_DB_ADDR}
  db_name: ${ENV_DB_NAME}

# 外部依赖
external:
  grpc:
    passport:
      hosts: ${ENV_ETCD_HOSTS}
      key: whimer.passport.rpc
    note:
      hosts: ${ENV_ETCD_HOSTS}
      key: whimer.note.rpc
    counter:
      hosts: ${ENV_ETCD_HOSTS}
      key: whimer.counter.rpc

seqer: 
  addr: 127.0.0.1:9528

redis:
  host: ${ENV_REDIS_HOST}

oss:
  inline_image:
    endpoint: ${ENV_OSS_ENDPOINT}
    location: ${ENV_OSS_LOCATION}
    bucket: pics
    prefix: cmt_inline
    display_endpoint: http://s1-file.whimer.com
    upload_endpoint: http://s1-upload.whimer.com

oss_upload_auth:
  jwt_issuer: whimer
  jwt_subject: sts
  jwt_duration: 30m
  ak: ${ENV_OSS_AK}
  sk: ${ENV_OSS_SK}

img_proxy_auth:
  key: ${IMGPROXY_KEY}
  salt: ${IMGPROXY_SALT}
